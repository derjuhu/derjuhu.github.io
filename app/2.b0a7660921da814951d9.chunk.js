(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{532:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(6),s=r(114),l=r(14);class o{constructor(e,t){this.renderer=e,this.elementRef=t,this.colors=["#F00","#F90","#FF0","#9F0","#0F0"]}measureStrength(e){let t=0;const r=[/[a-z]+/.test(e),/[A-Z]+/.test(e),/[0-9]+/.test(e),/[$-/:-?{-~!"^_`[\]]/g.test(e)].filter(e=>!0===e).length;return t+=2*e.length+(e.length>=10?1:0),t+=10*r,t=e.length<=6?Math.min(t,10):t,t=1===r?Math.min(t,10):t,t=2===r?Math.min(t,20):t,t=3===r?Math.min(t,40):t,t}getColor(e){let t=0;return t=e<=10?0:e<=20?1:e<=30?2:e<=40?3:4,{idx:t+1,col:this.colors[t]}}set passwordToCheck(e){if(e){const t=this.getColor(this.measureStrength(e)),r=this.elementRef.nativeElement;r.className&&this.renderer.removeClass(r,r.className);const a=r.getElementsByTagName("li");for(let e=0;e<a.length;e++)e<t.idx?this.renderer.setStyle(a[e],"backgroundColor",t.col):this.renderer.setStyle(a[e],"backgroundColor","#DDD")}}}o.ɵfac=function(e){return new(e||o)(a["ɵɵdirectiveInject"](a.Renderer2),a["ɵɵdirectiveInject"](a.ElementRef))},o.ɵcmp=a["ɵɵdefineComponent"]({type:o,selectors:[["dhpp-password-strength-bar"]],inputs:{passwordToCheck:"passwordToCheck"},decls:20,vars:0,consts:[["id","strength"],["jhiTranslate","global.messages.validate.newpassword.strength"],["id","strengthBar"],[1,"point"]],template:function(e,t){1&e&&(a["ɵɵtext"](0,"\n    "),a["ɵɵelementStart"](1,"div",0),a["ɵɵtext"](2,"\n      "),a["ɵɵelementStart"](3,"small",1),a["ɵɵtext"](4,"Password strength:"),a["ɵɵelementEnd"](),a["ɵɵtext"](5,"\n      "),a["ɵɵelementStart"](6,"ul",2),a["ɵɵtext"](7,"\n        "),a["ɵɵelement"](8,"li",3),a["ɵɵtext"](9,"\n        "),a["ɵɵelement"](10,"li",3),a["ɵɵtext"](11,"\n        "),a["ɵɵelement"](12,"li",3),a["ɵɵtext"](13,"\n        "),a["ɵɵelement"](14,"li",3),a["ɵɵtext"](15,"\n        "),a["ɵɵelement"](16,"li",3),a["ɵɵtext"](17,"\n      "),a["ɵɵelementEnd"](),a["ɵɵtext"](18,"\n    "),a["ɵɵelementEnd"](),a["ɵɵtext"](19,"\n  "))},directives:[l.n],styles:["ul#strength[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0;margin-left:15px;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]{background:#ddd;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:20px}.point[_ngcontent-%COMP%]:last-child{margin:0 !important}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](o,[{type:a.Component,args:[{selector:"dhpp-password-strength-bar",template:'\n    <div id="strength">\n      <small jhiTranslate="global.messages.validate.newpassword.strength">Password strength:</small>\n      <ul id="strengthBar">\n        <li class="point"></li>\n        <li class="point"></li>\n        <li class="point"></li>\n        <li class="point"></li>\n        <li class="point"></li>\n      </ul>\n    </div>\n  ',styleUrls:["password-strength-bar.scss"]}]}],(function(){return[{type:a.Renderer2},{type:a.ElementRef}]}),{passwordToCheck:[{type:a.Input}]});var i=r(5);var m=r(46),d=r(27),g=r(21);class c{constructor(e){this.http=e}save(e){return this.http.post(d.b+"services/uaa/api/register",e)}}c.ɵfac=function(e){return new(e||c)(a["ɵɵinject"](g.b))},c.ɵprov=a["ɵɵdefineInjectable"]({token:c,factory:c.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](c,[{type:a.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:g.b}]}),null);var p=r(1),f=r(22);function u(e,t){1&e&&(a["ɵɵelementStart"](0,"div",13),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Registration saved!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," Please check your email for confirmation. "),a["ɵɵelementEnd"]())}function h(e,t){1&e&&(a["ɵɵelementStart"](0,"div",14),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Registration failed!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," Please try again later. "),a["ɵɵelementEnd"]())}function x(e,t){1&e&&(a["ɵɵelementStart"](0,"div",15),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Login name already registered!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," Please choose another one. "),a["ɵɵelementEnd"]())}function v(e,t){1&e&&(a["ɵɵelementStart"](0,"div",16),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Email is already in use!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," Please choose another one. "),a["ɵɵelementEnd"]())}function w(e,t){1&e&&(a["ɵɵelementStart"](0,"div",17),a["ɵɵtext"](1," The password and its confirmation do not match! "),a["ɵɵelementEnd"]())}function b(e,t){1&e&&(a["ɵɵelementStart"](0,"small",35),a["ɵɵtext"](1," Your username is required. "),a["ɵɵelementEnd"]())}function y(e,t){1&e&&(a["ɵɵelementStart"](0,"small",36),a["ɵɵtext"](1," Your username is required to be at least 1 character. "),a["ɵɵelementEnd"]())}function I(e,t){1&e&&(a["ɵɵelementStart"](0,"small",37),a["ɵɵtext"](1," Your username cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function S(e,t){1&e&&(a["ɵɵelementStart"](0,"small",38),a["ɵɵtext"](1," Your username can only contain letters and digits. "),a["ɵɵelementEnd"]())}function E(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,b,2,0,"small",31),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,y,2,0,"small",32),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,I,2,0,"small",33),a["ɵɵtext"](7," "),a["ɵɵtemplate"](8,S,2,0,"small",34),a["ɵɵtext"](9," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("login").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("login").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("login").errors.maxlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("login").errors.pattern)}}function j(e,t){1&e&&(a["ɵɵelementStart"](0,"small",43),a["ɵɵtext"](1," Your email is required. "),a["ɵɵelementEnd"]())}function T(e,t){1&e&&(a["ɵɵelementStart"](0,"small",44),a["ɵɵtext"](1," Your email is invalid. "),a["ɵɵelementEnd"]())}function F(e,t){1&e&&(a["ɵɵelementStart"](0,"small",45),a["ɵɵtext"](1," Your email is required to be at least 5 characters. "),a["ɵɵelementEnd"]())}function C(e,t){1&e&&(a["ɵɵelementStart"](0,"small",46),a["ɵɵtext"](1," Your email cannot be longer than 100 characters. "),a["ɵɵelementEnd"]())}function q(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,j,2,0,"small",39),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,T,2,0,"small",40),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,F,2,0,"small",41),a["ɵɵtext"](7," "),a["ɵɵtemplate"](8,C,2,0,"small",42),a["ɵɵtext"](9," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("email").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("email").errors.invalid),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("email").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("email").errors.maxlength)}}function P(e,t){1&e&&(a["ɵɵelementStart"](0,"small",50),a["ɵɵtext"](1," Your password is required. "),a["ɵɵelementEnd"]())}function R(e,t){1&e&&(a["ɵɵelementStart"](0,"small",51),a["ɵɵtext"](1," Your password is required to be at least 4 characters. "),a["ɵɵelementEnd"]())}function N(e,t){1&e&&(a["ɵɵelementStart"](0,"small",52),a["ɵɵtext"](1," Your password cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function M(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,P,2,0,"small",47),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,R,2,0,"small",48),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,N,2,0,"small",49),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("password").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("password").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("password").errors.maxlength)}}function k(e,t){1&e&&(a["ɵɵelementStart"](0,"small",56),a["ɵɵtext"](1," Your confirmation password is required. "),a["ɵɵelementEnd"]())}function Y(e,t){1&e&&(a["ɵɵelementStart"](0,"small",57),a["ɵɵtext"](1," Your confirmation password is required to be at least 4 characters. "),a["ɵɵelementEnd"]())}function O(e,t){1&e&&(a["ɵɵelementStart"](0,"small",58),a["ɵɵtext"](1," Your confirmation password cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function L(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,k,2,0,"small",53),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,Y,2,0,"small",54),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,O,2,0,"small",55),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("confirmPassword").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("confirmPassword").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.registerForm.get("confirmPassword").errors.maxlength)}}function D(e,t){if(1&e){const e=a["ɵɵgetCurrentView"]();a["ɵɵelementStart"](0,"form",18),a["ɵɵlistener"]("ngSubmit",(function(){return a["ɵɵrestoreView"](e),a["ɵɵnextContext"]().register()})),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",19),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"label",20),a["ɵɵtext"](5,"Username"),a["ɵɵelementEnd"](),a["ɵɵtext"](6," "),a["ɵɵelement"](7,"input",21),a["ɵɵpipe"](8,"translate"),a["ɵɵtext"](9," "),a["ɵɵtemplate"](10,E,10,4,"div",22),a["ɵɵtext"](11," "),a["ɵɵelementEnd"](),a["ɵɵtext"](12," "),a["ɵɵelementStart"](13,"div",19),a["ɵɵtext"](14," "),a["ɵɵelementStart"](15,"label",23),a["ɵɵtext"](16,"Email"),a["ɵɵelementEnd"](),a["ɵɵtext"](17," "),a["ɵɵelement"](18,"input",24),a["ɵɵpipe"](19,"translate"),a["ɵɵtext"](20," "),a["ɵɵtemplate"](21,q,10,4,"div",22),a["ɵɵtext"](22," "),a["ɵɵelementEnd"](),a["ɵɵtext"](23," "),a["ɵɵelementStart"](24,"div",19),a["ɵɵtext"](25," "),a["ɵɵelementStart"](26,"label",25),a["ɵɵtext"](27,"New password"),a["ɵɵelementEnd"](),a["ɵɵtext"](28," "),a["ɵɵelement"](29,"input",26),a["ɵɵpipe"](30,"translate"),a["ɵɵtext"](31," "),a["ɵɵtemplate"](32,M,8,3,"div",22),a["ɵɵtext"](33," "),a["ɵɵelement"](34,"dhpp-password-strength-bar",27),a["ɵɵtext"](35," "),a["ɵɵelementEnd"](),a["ɵɵtext"](36," "),a["ɵɵelementStart"](37,"div",19),a["ɵɵtext"](38," "),a["ɵɵelementStart"](39,"label",28),a["ɵɵtext"](40,"New password confirmation"),a["ɵɵelementEnd"](),a["ɵɵtext"](41," "),a["ɵɵelement"](42,"input",29),a["ɵɵpipe"](43,"translate"),a["ɵɵtext"](44," "),a["ɵɵtemplate"](45,L,8,3,"div",22),a["ɵɵtext"](46," "),a["ɵɵelementEnd"](),a["ɵɵtext"](47," "),a["ɵɵelementStart"](48,"button",30),a["ɵɵtext"](49,"Register"),a["ɵɵelementEnd"](),a["ɵɵtext"](50," "),a["ɵɵelementEnd"]()}if(2&e){const e=a["ɵɵnextContext"]();a["ɵɵproperty"]("formGroup",e.registerForm),a["ɵɵadvance"](7),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](8,11,"global.form.username.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.registerForm.get("login").invalid&&(e.registerForm.get("login").dirty||e.registerForm.get("login").touched)),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](19,13,"global.form.email.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.registerForm.get("email").invalid&&(e.registerForm.get("email").dirty||e.registerForm.get("email").touched)),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](30,15,"global.form.newpassword.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.registerForm.get("password").invalid&&(e.registerForm.get("password").dirty||e.registerForm.get("password").touched)),a["ɵɵadvance"](2),a["ɵɵproperty"]("passwordToCheck",e.registerForm.get("password").value),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](43,17,"global.form.confirmpassword.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.registerForm.get("confirmPassword").invalid&&(e.registerForm.get("confirmPassword").dirty||e.registerForm.get("confirmPassword").touched)),a["ɵɵadvance"](3),a["ɵɵproperty"]("disabled",e.registerForm.invalid)}}class V{constructor(e,t,r,a,n,s){this.languageService=e,this.loginModalService=t,this.registerService=r,this.elementRef=a,this.renderer=n,this.fb=s,this.registerForm=this.fb.group({login:["",[i.t.required,i.t.minLength(1),i.t.maxLength(50),i.t.pattern("^[_.@A-Za-z0-9-]*$")]],email:["",[i.t.required,i.t.minLength(5),i.t.maxLength(254),i.t.email]],password:["",[i.t.required,i.t.minLength(4),i.t.maxLength(50)]],confirmPassword:["",[i.t.required,i.t.minLength(4),i.t.maxLength(50)]]})}ngOnInit(){this.success=!1}ngAfterViewInit(){}register(){let e={};const t=this.registerForm.get(["login"]).value,r=this.registerForm.get(["email"]).value,a=this.registerForm.get(["password"]).value;a!==this.registerForm.get(["confirmPassword"]).value?this.doNotMatch="ERROR":(e=Object.assign(Object.assign({},e),{login:t,email:r,password:a}),this.doNotMatch=null,this.error=null,this.errorUserExists=null,this.errorEmailExists=null,this.languageService.getCurrent().then(t=>{e=Object.assign(Object.assign({},e),{langKey:t}),this.registerService.save(e).subscribe(()=>{this.success=!0},e=>this.processError(e))}))}openLogin(){this.modalRef=this.loginModalService.open()}processError(e){this.success=null,400===e.status&&"https://www.jhipster.tech/problem/login-already-used"===e.error.type?this.errorUserExists="ERROR":400===e.status&&"https://www.jhipster.tech/problem/email-already-used"===e.error.type?this.errorEmailExists="ERROR":this.error="ERROR"}}V.ɵfac=function(e){return new(e||V)(a["ɵɵdirectiveInject"](l.g),a["ɵɵdirectiveInject"](m.a),a["ɵɵdirectiveInject"](c),a["ɵɵdirectiveInject"](a.ElementRef),a["ɵɵdirectiveInject"](a.Renderer2),a["ɵɵdirectiveInject"](i.d))},V.ɵcmp=a["ɵɵdefineComponent"]({type:V,selectors:[["dhpp-register"]],decls:47,vars:6,consts:[[1,"row","justify-content-center"],[1,"col-md-8"],["jhiTranslate","register.title"],["class","alert alert-success","jhiTranslate","register.messages.success",4,"ngIf"],["class","alert alert-danger","jhiTranslate","register.messages.error.fail",4,"ngIf"],["class","alert alert-danger","jhiTranslate","register.messages.error.userexists",4,"ngIf"],["class","alert alert-danger","jhiTranslate","register.messages.error.emailexists",4,"ngIf"],["class","alert alert-danger","jhiTranslate","global.messages.error.dontmatch",4,"ngIf"],["name","form","role","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-warning"],["jhiTranslate","global.messages.info.authenticated.prefix"],["jhiTranslate","global.messages.info.authenticated.link",1,"alert-link",3,"click"],["jhiTranslate","global.messages.info.authenticated.suffix"],["jhiTranslate","register.messages.success",1,"alert","alert-success"],["jhiTranslate","register.messages.error.fail",1,"alert","alert-danger"],["jhiTranslate","register.messages.error.userexists",1,"alert","alert-danger"],["jhiTranslate","register.messages.error.emailexists",1,"alert","alert-danger"],["jhiTranslate","global.messages.error.dontmatch",1,"alert","alert-danger"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","login","jhiTranslate","global.form.username.label",1,"form-control-label"],["type","text","id","login","name","login","formControlName","login",1,"form-control",3,"placeholder"],[4,"ngIf"],["for","email","jhiTranslate","global.form.email.label",1,"form-control-label"],["type","email","id","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],["for","password","jhiTranslate","global.form.newpassword.label",1,"form-control-label"],["type","password","id","password","name","password","formControlName","password",1,"form-control",3,"placeholder"],[3,"passwordToCheck"],["for","confirmPassword","jhiTranslate","global.form.confirmpassword.label",1,"form-control-label"],["type","password","id","confirmPassword","name","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"placeholder"],["type","submit","jhiTranslate","register.form.button",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger","jhiTranslate","register.messages.validate.login.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","register.messages.validate.login.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","register.messages.validate.login.maxlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","register.messages.validate.login.pattern",4,"ngIf"],["jhiTranslate","register.messages.validate.login.required",1,"form-text","text-danger"],["jhiTranslate","register.messages.validate.login.minlength",1,"form-text","text-danger"],["jhiTranslate","register.messages.validate.login.maxlength",1,"form-text","text-danger"],["jhiTranslate","register.messages.validate.login.pattern",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.invalid",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.email.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.invalid",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.maxlength",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.newpassword.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.newpassword.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.newpassword.maxlength",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.confirmpassword.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.confirmpassword.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.confirmpassword.maxlength",1,"form-text","text-danger"]],template:function(e,t){1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",0),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"div",1),a["ɵɵtext"](5," "),a["ɵɵelementStart"](6,"h1",2),a["ɵɵtext"](7,"Registration"),a["ɵɵelementEnd"](),a["ɵɵtext"](8," "),a["ɵɵtemplate"](9,u,5,0,"div",3),a["ɵɵtext"](10," "),a["ɵɵtemplate"](11,h,5,0,"div",4),a["ɵɵtext"](12," "),a["ɵɵtemplate"](13,x,5,0,"div",5),a["ɵɵtext"](14," "),a["ɵɵtemplate"](15,v,5,0,"div",6),a["ɵɵtext"](16," "),a["ɵɵtemplate"](17,w,2,0,"div",7),a["ɵɵtext"](18," "),a["ɵɵelementEnd"](),a["ɵɵtext"](19," "),a["ɵɵelementEnd"](),a["ɵɵtext"](20," "),a["ɵɵelementStart"](21,"div",0),a["ɵɵtext"](22," "),a["ɵɵelementStart"](23,"div",1),a["ɵɵtext"](24," "),a["ɵɵtemplate"](25,D,51,19,"form",8),a["ɵɵtext"](26," "),a["ɵɵelement"](27,"p"),a["ɵɵtext"](28," "),a["ɵɵelementStart"](29,"div",9),a["ɵɵtext"](30," "),a["ɵɵelementStart"](31,"span",10),a["ɵɵtext"](32,"If you want to "),a["ɵɵelementEnd"](),a["ɵɵtext"](33," "),a["ɵɵelementStart"](34,"a",11),a["ɵɵlistener"]("click",(function(){return t.openLogin()})),a["ɵɵtext"](35,"sign in"),a["ɵɵelementEnd"](),a["ɵɵelementStart"](36,"span",12),a["ɵɵtext"](37,", you can try the default accounts:"),a["ɵɵelement"](38,"br"),a["ɵɵtext"](39,'- Administrator (login="admin" and password="admin") '),a["ɵɵelement"](40,"br"),a["ɵɵtext"](41,'- User (login="user" and password="user").'),a["ɵɵelementEnd"](),a["ɵɵtext"](42," "),a["ɵɵelementEnd"](),a["ɵɵtext"](43," "),a["ɵɵelementEnd"](),a["ɵɵtext"](44," "),a["ɵɵelementEnd"](),a["ɵɵtext"](45," "),a["ɵɵelementEnd"](),a["ɵɵtext"](46," ")),2&e&&(a["ɵɵadvance"](9),a["ɵɵproperty"]("ngIf",t.success),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.error),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.errorUserExists),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.errorEmailExists),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.doNotMatch),a["ɵɵadvance"](8),a["ɵɵproperty"]("ngIf",!t.success))},directives:[l.n,p.NgIf,i.v,i.l,i.f,i.c,i.k,i.e,o],pipes:[f.d],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](V,[{type:a.Component,args:[{selector:"dhpp-register",templateUrl:"./register.component.html"}]}],(function(){return[{type:l.g},{type:m.a},{type:c},{type:a.ElementRef},{type:a.Renderer2},{type:i.d}]}),null);var U=r(131);class K{constructor(e){this.http=e}get(e){return this.http.get(d.b+"services/uaa/api/activate",{params:(new g.e).set("key",e)})}}function B(e,t){if(1&e){const e=a["ɵɵgetCurrentView"]();a["ɵɵelementStart"](0,"div",5),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"span",6),a["ɵɵelementStart"](3,"strong"),a["ɵɵtext"](4,"Your user account has been activated."),a["ɵɵelementEnd"](),a["ɵɵtext"](5," Please "),a["ɵɵelementEnd"](),a["ɵɵtext"](6," "),a["ɵɵelementStart"](7,"a",7),a["ɵɵlistener"]("click",(function(){return a["ɵɵrestoreView"](e),a["ɵɵnextContext"]().login()})),a["ɵɵtext"](8,"sign in"),a["ɵɵelementEnd"](),a["ɵɵtext"](9,". "),a["ɵɵelementEnd"]()}}function G(e,t){1&e&&(a["ɵɵelementStart"](0,"div",8),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Your user could not be activated."),a["ɵɵelementEnd"](),a["ɵɵtext"](4," Please use the registration form to sign up. "),a["ɵɵelementEnd"]())}K.ɵfac=function(e){return new(e||K)(a["ɵɵinject"](g.b))},K.ɵprov=a["ɵɵdefineInjectable"]({token:K,factory:K.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](K,[{type:a.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:g.b}]}),null);class A{constructor(e,t,r){this.activateService=e,this.loginModalService=t,this.route=r}ngOnInit(){this.route.queryParams.pipe(Object(U.a)(e=>this.activateService.get(e.key))).subscribe(()=>{this.error=null,this.success="OK"},()=>{this.success=null,this.error="ERROR"})}login(){this.loginModalService.open()}}A.ɵfac=function(e){return new(e||A)(a["ɵɵdirectiveInject"](K),a["ɵɵdirectiveInject"](m.a),a["ɵɵdirectiveInject"](n.a))},A.ɵcmp=a["ɵɵdefineComponent"]({type:A,selectors:[["dhpp-activate"]],decls:16,vars:2,consts:[[1,"row","justify-content-center"],[1,"col-md-8"],["jhiTranslate","activate.title"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger","jhiTranslate","activate.messages.error",4,"ngIf"],[1,"alert","alert-success"],["jhiTranslate","activate.messages.success"],["jhiTranslate","global.messages.info.authenticated.link",1,"alert-link",3,"click"],["jhiTranslate","activate.messages.error",1,"alert","alert-danger"]],template:function(e,t){1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",0),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"div",1),a["ɵɵtext"](5," "),a["ɵɵelementStart"](6,"h1",2),a["ɵɵtext"](7,"Activation"),a["ɵɵelementEnd"](),a["ɵɵtext"](8," "),a["ɵɵtemplate"](9,B,10,0,"div",3),a["ɵɵtext"](10," "),a["ɵɵtemplate"](11,G,5,0,"div",4),a["ɵɵtext"](12," "),a["ɵɵelementEnd"](),a["ɵɵtext"](13," "),a["ɵɵelementEnd"](),a["ɵɵtext"](14," "),a["ɵɵelementEnd"](),a["ɵɵtext"](15," ")),2&e&&(a["ɵɵadvance"](9),a["ɵɵproperty"]("ngIf",t.success),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.error))},directives:[l.n,p.NgIf],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](A,[{type:a.Component,args:[{selector:"dhpp-activate",templateUrl:"./activate.component.html"}]}],(function(){return[{type:K},{type:m.a},{type:n.a}]}),null);var _=r(39);class ${constructor(e){this.http=e}save(e,t){return this.http.post(d.b+"services/uaa/api/account/change-password",{currentPassword:t,newPassword:e})}}function J(e,t){1&e&&(a["ɵɵelementStart"](0,"div",18),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Password changed!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementEnd"]())}function z(e,t){1&e&&(a["ɵɵelementStart"](0,"div",19),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"An error has occurred!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," The password could not be changed. "),a["ɵɵelementEnd"]())}function H(e,t){1&e&&(a["ɵɵelementStart"](0,"div",20),a["ɵɵtext"](1," The password and its confirmation do not match! "),a["ɵɵelementEnd"]())}function Z(e,t){1&e&&(a["ɵɵelementStart"](0,"small",22),a["ɵɵtext"](1," Your password is required. "),a["ɵɵelementEnd"]())}function Q(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,Z,2,0,"small",21),a["ɵɵtext"](3," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("currentPassword").errors.required)}}function W(e,t){1&e&&(a["ɵɵelementStart"](0,"small",22),a["ɵɵtext"](1," Your password is required. "),a["ɵɵelementEnd"]())}function X(e,t){1&e&&(a["ɵɵelementStart"](0,"small",25),a["ɵɵtext"](1," Your password is required to be at least 4 characters. "),a["ɵɵelementEnd"]())}function ee(e,t){1&e&&(a["ɵɵelementStart"](0,"small",26),a["ɵɵtext"](1," Your password cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function te(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,W,2,0,"small",21),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,X,2,0,"small",23),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,ee,2,0,"small",24),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("newPassword").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("newPassword").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("newPassword").errors.maxlength)}}function re(e,t){1&e&&(a["ɵɵelementStart"](0,"small",30),a["ɵɵtext"](1," Your confirmation password is required. "),a["ɵɵelementEnd"]())}function ae(e,t){1&e&&(a["ɵɵelementStart"](0,"small",31),a["ɵɵtext"](1," Your confirmation password is required to be at least 4 characters. "),a["ɵɵelementEnd"]())}function ne(e,t){1&e&&(a["ɵɵelementStart"](0,"small",32),a["ɵɵtext"](1," Your confirmation password cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function se(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,re,2,0,"small",27),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,ae,2,0,"small",28),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,ne,2,0,"small",29),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("confirmPassword").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("confirmPassword").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("confirmPassword").errors.maxlength)}}$.ɵfac=function(e){return new(e||$)(a["ɵɵinject"](g.b))},$.ɵprov=a["ɵɵdefineInjectable"]({token:$,factory:$.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"]($,[{type:a.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:g.b}]}),null);const le=function(e){return{username:e}};function oe(e,t){if(1&e){const e=a["ɵɵgetCurrentView"]();a["ɵɵelementStart"](0,"div",2),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"h2",3),a["ɵɵtext"](3,"Password for ["),a["ɵɵelementStart"](4,"strong"),a["ɵɵtext"](5),a["ɵɵelementEnd"](),a["ɵɵtext"](6,"]"),a["ɵɵelementEnd"](),a["ɵɵtext"](7," "),a["ɵɵtemplate"](8,J,5,0,"div",4),a["ɵɵtext"](9," "),a["ɵɵtemplate"](10,z,5,0,"div",5),a["ɵɵtext"](11," "),a["ɵɵtemplate"](12,H,2,0,"div",6),a["ɵɵtext"](13," "),a["ɵɵelementStart"](14,"form",7),a["ɵɵlistener"]("ngSubmit",(function(){return a["ɵɵrestoreView"](e),a["ɵɵnextContext"]().changePassword()})),a["ɵɵtext"](15," "),a["ɵɵelementStart"](16,"div",8),a["ɵɵtext"](17," "),a["ɵɵelementStart"](18,"label",9),a["ɵɵtext"](19,"Current password"),a["ɵɵelementEnd"](),a["ɵɵtext"](20," "),a["ɵɵelement"](21,"input",10),a["ɵɵpipe"](22,"translate"),a["ɵɵtext"](23," "),a["ɵɵtemplate"](24,Q,4,1,"div",11),a["ɵɵtext"](25," "),a["ɵɵelementEnd"](),a["ɵɵtext"](26," "),a["ɵɵelementStart"](27,"div",8),a["ɵɵtext"](28," "),a["ɵɵelementStart"](29,"label",12),a["ɵɵtext"](30,"New password"),a["ɵɵelementEnd"](),a["ɵɵtext"](31," "),a["ɵɵelement"](32,"input",13),a["ɵɵpipe"](33,"translate"),a["ɵɵtext"](34," "),a["ɵɵtemplate"](35,te,8,3,"div",11),a["ɵɵtext"](36," "),a["ɵɵelement"](37,"dhpp-password-strength-bar",14),a["ɵɵtext"](38," "),a["ɵɵelementEnd"](),a["ɵɵtext"](39," "),a["ɵɵelementStart"](40,"div",8),a["ɵɵtext"](41," "),a["ɵɵelementStart"](42,"label",15),a["ɵɵtext"](43,"New password confirmation"),a["ɵɵelementEnd"](),a["ɵɵtext"](44," "),a["ɵɵelement"](45,"input",16),a["ɵɵpipe"](46,"translate"),a["ɵɵtext"](47," "),a["ɵɵtemplate"](48,se,8,3,"div",11),a["ɵɵtext"](49," "),a["ɵɵelementEnd"](),a["ɵɵtext"](50," "),a["ɵɵelementStart"](51,"button",17),a["ɵɵtext"](52,"Save"),a["ɵɵelementEnd"](),a["ɵɵtext"](53," "),a["ɵɵelementEnd"](),a["ɵɵtext"](54," "),a["ɵɵelementEnd"]()}if(2&e){const e=t.ngIf,r=a["ɵɵnextContext"]();a["ɵɵadvance"](2),a["ɵɵproperty"]("translateValues",a["ɵɵpureFunction1"](20,le,e.login)),a["ɵɵadvance"](3),a["ɵɵtextInterpolate"](e.login),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",r.success),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",r.error),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",r.doNotMatch),a["ɵɵadvance"](2),a["ɵɵproperty"]("formGroup",r.passwordForm),a["ɵɵadvance"](7),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](22,14,"global.form.currentpassword.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",r.passwordForm.get("currentPassword").invalid&&(r.passwordForm.get("currentPassword").dirty||r.passwordForm.get("currentPassword").touched)),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](33,16,"global.form.newpassword.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",r.passwordForm.get("newPassword").invalid&&(r.passwordForm.get("newPassword").dirty||r.passwordForm.get("newPassword").touched)),a["ɵɵadvance"](2),a["ɵɵproperty"]("passwordToCheck",r.passwordForm.get("newPassword").value),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](46,18,"global.form.confirmpassword.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",r.passwordForm.get("confirmPassword").invalid&&(r.passwordForm.get("confirmPassword").dirty||r.passwordForm.get("confirmPassword").touched)),a["ɵɵadvance"](3),a["ɵɵproperty"]("disabled",r.passwordForm.invalid)}}class ie{constructor(e,t,r){this.passwordService=e,this.accountService=t,this.fb=r,this.passwordForm=this.fb.group({currentPassword:["",[i.t.required]],newPassword:["",[i.t.required,i.t.minLength(4),i.t.maxLength(50)]],confirmPassword:["",[i.t.required,i.t.minLength(4),i.t.maxLength(50)]]})}ngOnInit(){this.account$=this.accountService.identity()}changePassword(){const e=this.passwordForm.get(["newPassword"]).value;e!==this.passwordForm.get(["confirmPassword"]).value?(this.error=null,this.success=null,this.doNotMatch="ERROR"):(this.doNotMatch=null,this.passwordService.save(e,this.passwordForm.get(["currentPassword"]).value).subscribe(()=>{this.error=null,this.success="OK"},()=>{this.success=null,this.error="ERROR"}))}}ie.ɵfac=function(e){return new(e||ie)(a["ɵɵdirectiveInject"]($),a["ɵɵdirectiveInject"](_.a),a["ɵɵdirectiveInject"](i.d))},ie.ɵcmp=a["ɵɵdefineComponent"]({type:ie,selectors:[["dhpp-password"]],decls:9,vars:3,consts:[[1,"row","justify-content-center"],["class","col-md-8",4,"ngIf"],[1,"col-md-8"],["jhiTranslate","password.title",3,"translateValues"],["class","alert alert-success","jhiTranslate","password.messages.success",4,"ngIf"],["class","alert alert-danger","jhiTranslate","password.messages.error",4,"ngIf"],["class","alert alert-danger","jhiTranslate","global.messages.error.dontmatch",4,"ngIf"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","currentPassword","jhiTranslate","global.form.currentpassword.label",1,"form-control-label"],["type","password","id","currentPassword","name","currentPassword","formControlName","currentPassword",1,"form-control",3,"placeholder"],[4,"ngIf"],["for","newPassword","jhiTranslate","global.form.newpassword.label",1,"form-control-label"],["type","password","id","newPassword","name","newPassword","formControlName","newPassword",1,"form-control",3,"placeholder"],[3,"passwordToCheck"],["for","confirmPassword","jhiTranslate","global.form.confirmpassword.label",1,"form-control-label"],["type","password","id","confirmPassword","name","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"placeholder"],["type","submit","jhiTranslate","password.form.button",1,"btn","btn-primary",3,"disabled"],["jhiTranslate","password.messages.success",1,"alert","alert-success"],["jhiTranslate","password.messages.error",1,"alert","alert-danger"],["jhiTranslate","global.messages.error.dontmatch",1,"alert","alert-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.required",4,"ngIf"],["jhiTranslate","global.messages.validate.newpassword.required",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.newpassword.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.newpassword.maxlength",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.confirmpassword.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.confirmpassword.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.confirmpassword.maxlength",1,"form-text","text-danger"]],template:function(e,t){1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",0),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,oe,55,22,"div",1),a["ɵɵpipe"](5,"async"),a["ɵɵtext"](6," "),a["ɵɵelementEnd"](),a["ɵɵtext"](7," "),a["ɵɵelementEnd"](),a["ɵɵtext"](8," ")),2&e&&(a["ɵɵadvance"](4),a["ɵɵproperty"]("ngIf",a["ɵɵpipeBind1"](5,1,t.account$)))},directives:[p.NgIf,l.n,i.v,i.l,i.f,i.c,i.k,i.e,o],pipes:[p.AsyncPipe,f.d],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](ie,[{type:a.Component,args:[{selector:"dhpp-password",templateUrl:"./password.component.html"}]}],(function(){return[{type:$},{type:_.a},{type:i.d}]}),null);class me{constructor(e){this.http=e}save(e){return this.http.post(d.b+"services/uaa/api/account/reset-password/init",e)}}function de(e,t){1&e&&(a["ɵɵelementStart"](0,"div",7),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Email address isn't registered!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," Please check and try again. "),a["ɵɵelementEnd"]())}function ge(e,t){1&e&&(a["ɵɵelementStart"](0,"div",8),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"p",9),a["ɵɵtext"](3,"Enter the email address you used to register."),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementEnd"]())}function ce(e,t){1&e&&(a["ɵɵelementStart"](0,"div",10),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"p",11),a["ɵɵtext"](3,"Check your emails for details on how to reset your password."),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementEnd"]())}function pe(e,t){1&e&&(a["ɵɵelementStart"](0,"small",22),a["ɵɵtext"](1," Your email is required. "),a["ɵɵelementEnd"]())}function fe(e,t){1&e&&(a["ɵɵelementStart"](0,"small",23),a["ɵɵtext"](1," Your email is invalid. "),a["ɵɵelementEnd"]())}function ue(e,t){1&e&&(a["ɵɵelementStart"](0,"small",24),a["ɵɵtext"](1," Your email is required to be at least 5 characters. "),a["ɵɵelementEnd"]())}function he(e,t){1&e&&(a["ɵɵelementStart"](0,"small",25),a["ɵɵtext"](1," Your email cannot be longer than 100 characters. "),a["ɵɵelementEnd"]())}function xe(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,pe,2,0,"small",18),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,fe,2,0,"small",19),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,ue,2,0,"small",20),a["ɵɵtext"](7," "),a["ɵɵtemplate"](8,he,2,0,"small",21),a["ɵɵtext"](9," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.resetRequestForm.get("email").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.resetRequestForm.get("email").errors.email),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.resetRequestForm.get("email").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.resetRequestForm.get("email").errors.maxlength)}}function ve(e,t){if(1&e){const e=a["ɵɵgetCurrentView"]();a["ɵɵelementStart"](0,"form",12),a["ɵɵlistener"]("ngSubmit",(function(){return a["ɵɵrestoreView"](e),a["ɵɵnextContext"]().requestReset()})),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",13),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"label",14),a["ɵɵtext"](5,"Email"),a["ɵɵelementEnd"](),a["ɵɵtext"](6," "),a["ɵɵelement"](7,"input",15),a["ɵɵpipe"](8,"translate"),a["ɵɵtext"](9," "),a["ɵɵtemplate"](10,xe,10,4,"div",16),a["ɵɵtext"](11," "),a["ɵɵelementEnd"](),a["ɵɵtext"](12," "),a["ɵɵelementStart"](13,"button",17),a["ɵɵtext"](14,"Reset"),a["ɵɵelementEnd"](),a["ɵɵtext"](15," "),a["ɵɵelementEnd"]()}if(2&e){const e=a["ɵɵnextContext"]();a["ɵɵproperty"]("formGroup",e.resetRequestForm),a["ɵɵadvance"](7),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](8,4,"global.form.email.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.resetRequestForm.get("email").invalid&&(e.resetRequestForm.get("email").dirty||e.resetRequestForm.get("email").touched)),a["ɵɵadvance"](3),a["ɵɵproperty"]("disabled",e.resetRequestForm.invalid)}}me.ɵfac=function(e){return new(e||me)(a["ɵɵinject"](g.b))},me.ɵprov=a["ɵɵdefineInjectable"]({token:me,factory:me.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](me,[{type:a.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:g.b}]}),null);class we{constructor(e,t,r,a){this.passwordResetInitService=e,this.elementRef=t,this.renderer=r,this.fb=a,this.resetRequestForm=this.fb.group({email:["",[i.t.required,i.t.minLength(5),i.t.maxLength(254),i.t.email]]})}ngAfterViewInit(){}requestReset(){this.error=null,this.errorEmailNotExists=null,this.passwordResetInitService.save(this.resetRequestForm.get(["email"]).value).subscribe(()=>{this.success="OK"},e=>{this.success=null,400===e.status&&"https://www.jhipster.tech/problem/email-not-found"===e.error.type?this.errorEmailNotExists="ERROR":this.error="ERROR"})}}we.ɵfac=function(e){return new(e||we)(a["ɵɵdirectiveInject"](me),a["ɵɵdirectiveInject"](a.ElementRef),a["ɵɵdirectiveInject"](a.Renderer2),a["ɵɵdirectiveInject"](i.d))},we.ɵcmp=a["ɵɵdefineComponent"]({type:we,selectors:[["dhpp-password-reset-init"]],decls:20,vars:4,consts:[[1,"row","justify-content-center"],[1,"col-md-8"],["jhiTranslate","reset.request.title"],["class","alert alert-danger","jhiTranslate","reset.request.messages.notfound",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["name","form","role","form",3,"formGroup","ngSubmit",4,"ngIf"],["jhiTranslate","reset.request.messages.notfound",1,"alert","alert-danger"],[1,"alert","alert-warning"],["jhiTranslate","reset.request.messages.info"],[1,"alert","alert-success"],["jhiTranslate","reset.request.messages.success"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email","jhiTranslate","global.form.email.label",1,"form-control-label"],["type","email","id","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[4,"ngIf"],["type","submit","jhiTranslate","reset.request.form.button",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.invalid",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.email.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.invalid",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.maxlength",1,"form-text","text-danger"]],template:function(e,t){1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",0),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"div",1),a["ɵɵtext"](5," "),a["ɵɵelementStart"](6,"h1",2),a["ɵɵtext"](7,"Reset your password"),a["ɵɵelementEnd"](),a["ɵɵtext"](8," "),a["ɵɵtemplate"](9,de,5,0,"div",3),a["ɵɵtext"](10," "),a["ɵɵtemplate"](11,ge,5,0,"div",4),a["ɵɵtext"](12," "),a["ɵɵtemplate"](13,ce,5,0,"div",5),a["ɵɵtext"](14," "),a["ɵɵtemplate"](15,ve,16,6,"form",6),a["ɵɵtext"](16," "),a["ɵɵelementEnd"](),a["ɵɵtext"](17," "),a["ɵɵelementEnd"](),a["ɵɵtext"](18," "),a["ɵɵelementEnd"](),a["ɵɵtext"](19," ")),2&e&&(a["ɵɵadvance"](9),a["ɵɵproperty"]("ngIf",t.errorEmailNotExists),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",!t.success),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf","OK"===t.success),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",!t.success))},directives:[l.n,p.NgIf,i.v,i.l,i.f,i.c,i.k,i.e],pipes:[f.d],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](we,[{type:a.Component,args:[{selector:"dhpp-password-reset-init",templateUrl:"./password-reset-init.component.html"}]}],(function(){return[{type:me},{type:a.ElementRef},{type:a.Renderer2},{type:i.d}]}),null);class be{constructor(e){this.http=e}save(e){return this.http.post(d.b+"services/uaa/api/account/reset-password/finish",e)}}function ye(e,t){1&e&&(a["ɵɵelementStart"](0,"div",9),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"The password reset key is missing."),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementEnd"]())}function Ie(e,t){1&e&&(a["ɵɵelementStart"](0,"div",10),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"p",11),a["ɵɵtext"](3,"Choose a new password"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementEnd"]())}function Se(e,t){1&e&&(a["ɵɵelementStart"](0,"div",12),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"p",13),a["ɵɵtext"](3,"Your password couldn't be reset. Remember a password request is only valid for 24 hours."),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementEnd"]())}function Ee(e,t){if(1&e){const e=a["ɵɵgetCurrentView"]();a["ɵɵelementStart"](0,"p",14),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"span",15),a["ɵɵelementStart"](3,"strong"),a["ɵɵtext"](4,"Your password has been reset."),a["ɵɵelementEnd"](),a["ɵɵtext"](5," Please "),a["ɵɵelementEnd"](),a["ɵɵtext"](6," "),a["ɵɵelementStart"](7,"a",16),a["ɵɵlistener"]("click",(function(){return a["ɵɵrestoreView"](e),a["ɵɵnextContext"]().login()})),a["ɵɵtext"](8,"sign in"),a["ɵɵelementEnd"](),a["ɵɵtext"](9,". "),a["ɵɵelementEnd"]()}}function je(e,t){1&e&&(a["ɵɵelementStart"](0,"div",17),a["ɵɵtext"](1," The password and its confirmation do not match! "),a["ɵɵelementEnd"]())}function Te(e,t){1&e&&(a["ɵɵelementStart"](0,"small",30),a["ɵɵtext"](1," Your password is required. "),a["ɵɵelementEnd"]())}function Fe(e,t){1&e&&(a["ɵɵelementStart"](0,"small",31),a["ɵɵtext"](1," Your password is required to be at least 4 characters. "),a["ɵɵelementEnd"]())}function Ce(e,t){1&e&&(a["ɵɵelementStart"](0,"small",32),a["ɵɵtext"](1," Your password cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function qe(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,Te,2,0,"small",27),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,Fe,2,0,"small",28),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,Ce,2,0,"small",29),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](3);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("newPassword").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("newPassword").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("newPassword").errors.maxlength)}}function Pe(e,t){1&e&&(a["ɵɵelementStart"](0,"small",36),a["ɵɵtext"](1," Your password confirmation is required. "),a["ɵɵelementEnd"]())}function Re(e,t){1&e&&(a["ɵɵelementStart"](0,"small",37),a["ɵɵtext"](1," Your password confirmation is required to be at least 4 characters. "),a["ɵɵelementEnd"]())}function Ne(e,t){1&e&&(a["ɵɵelementStart"](0,"small",38),a["ɵɵtext"](1," Your password confirmation cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function Me(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,Pe,2,0,"small",33),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,Re,2,0,"small",34),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,Ne,2,0,"small",35),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](3);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("confirmPassword").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("confirmPassword").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.passwordForm.get("confirmPassword").errors.maxlength)}}function ke(e,t){if(1&e){const e=a["ɵɵgetCurrentView"]();a["ɵɵelementStart"](0,"form",19),a["ɵɵlistener"]("ngSubmit",(function(){return a["ɵɵrestoreView"](e),a["ɵɵnextContext"](2).finishReset()})),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",20),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"label",21),a["ɵɵtext"](5,"New password"),a["ɵɵelementEnd"](),a["ɵɵtext"](6," "),a["ɵɵelement"](7,"input",22),a["ɵɵpipe"](8,"translate"),a["ɵɵtext"](9," "),a["ɵɵtemplate"](10,qe,8,3,"div",8),a["ɵɵtext"](11," "),a["ɵɵelement"](12,"dhpp-password-strength-bar",23),a["ɵɵtext"](13," "),a["ɵɵelementEnd"](),a["ɵɵtext"](14," "),a["ɵɵelementStart"](15,"div",20),a["ɵɵtext"](16," "),a["ɵɵelementStart"](17,"label",24),a["ɵɵtext"](18,"New password confirmation"),a["ɵɵelementEnd"](),a["ɵɵtext"](19," "),a["ɵɵelement"](20,"input",25),a["ɵɵpipe"](21,"translate"),a["ɵɵtext"](22," "),a["ɵɵtemplate"](23,Me,8,3,"div",8),a["ɵɵtext"](24," "),a["ɵɵelementEnd"](),a["ɵɵtext"](25," "),a["ɵɵelementStart"](26,"button",26),a["ɵɵtext"](27,"Reset Password"),a["ɵɵelementEnd"](),a["ɵɵtext"](28," "),a["ɵɵelementEnd"]()}if(2&e){const e=a["ɵɵnextContext"](2);a["ɵɵproperty"]("formGroup",e.passwordForm),a["ɵɵadvance"](7),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](8,7,"global.form.newpassword.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.passwordForm.get("newPassword").invalid&&(e.passwordForm.get("newPassword").dirty||e.passwordForm.get("newPassword").touched)),a["ɵɵadvance"](2),a["ɵɵproperty"]("passwordToCheck",e.passwordForm.get("newPassword").value),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](21,9,"global.form.confirmpassword.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.passwordForm.get("confirmPassword").invalid&&(e.passwordForm.get("confirmPassword").dirty||e.passwordForm.get("confirmPassword").touched)),a["ɵɵadvance"](3),a["ɵɵproperty"]("disabled",e.passwordForm.invalid)}}function Ye(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,ke,29,11,"form",18),a["ɵɵtext"](3," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"]();a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",!e.success)}}be.ɵfac=function(e){return new(e||be)(a["ɵɵinject"](g.b))},be.ɵprov=a["ɵɵdefineInjectable"]({token:be,factory:be.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](be,[{type:a.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:g.b}]}),null);class Oe{constructor(e,t,r,a,n,s){this.passwordResetFinishService=e,this.loginModalService=t,this.route=r,this.elementRef=a,this.renderer=n,this.fb=s,this.passwordForm=this.fb.group({newPassword:["",[i.t.required,i.t.minLength(4),i.t.maxLength(50)]],confirmPassword:["",[i.t.required,i.t.minLength(4),i.t.maxLength(50)]]})}ngOnInit(){this.route.queryParams.subscribe(e=>{this.key=e.key}),this.keyMissing=!this.key}ngAfterViewInit(){this.elementRef.nativeElement.querySelector("#password")}finishReset(){this.doNotMatch=null,this.error=null;const e=this.passwordForm.get(["newPassword"]).value;e!==this.passwordForm.get(["confirmPassword"]).value?this.doNotMatch="ERROR":this.passwordResetFinishService.save({key:this.key,newPassword:e}).subscribe(()=>{this.success="OK"},()=>{this.success=null,this.error="ERROR"})}login(){this.modalRef=this.loginModalService.open()}}Oe.ɵfac=function(e){return new(e||Oe)(a["ɵɵdirectiveInject"](be),a["ɵɵdirectiveInject"](m.a),a["ɵɵdirectiveInject"](n.a),a["ɵɵdirectiveInject"](a.ElementRef),a["ɵɵdirectiveInject"](a.Renderer2),a["ɵɵdirectiveInject"](i.d))},Oe.ɵcmp=a["ɵɵdefineComponent"]({type:Oe,selectors:[["dhpp-password-reset-finish"]],decls:24,vars:6,consts:[[1,"row","justify-content-center"],[1,"col-md-4"],["jhiTranslate","reset.finish.title"],["class","alert alert-danger","jhiTranslate","reset.finish.messages.keymissing",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger","jhiTranslate","global.messages.error.dontmatch",4,"ngIf"],[4,"ngIf"],["jhiTranslate","reset.finish.messages.keymissing",1,"alert","alert-danger"],[1,"alert","alert-warning"],["jhiTranslate","reset.finish.messages.info"],[1,"alert","alert-danger"],["jhiTranslate","reset.finish.messages.error"],[1,"alert","alert-success"],["jhiTranslate","reset.finish.messages.success"],["jhiTranslate","global.messages.info.authenticated.link",1,"alert-link",3,"click"],["jhiTranslate","global.messages.error.dontmatch",1,"alert","alert-danger"],["name","form","role","form",3,"formGroup","ngSubmit",4,"ngIf"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","password","jhiTranslate","global.form.newpassword.label",1,"form-control-label"],["type","password","id","password","name","password","formControlName","newPassword",1,"form-control",3,"placeholder"],[3,"passwordToCheck"],["for","confirmPassword","jhiTranslate","global.form.confirmpassword.label",1,"form-control-label"],["type","password","id","confirmPassword","name","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"placeholder"],["type","submit","jhiTranslate","reset.finish.form.button",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.newpassword.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.newpassword.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.newpassword.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.newpassword.maxlength",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.confirmpassword.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.confirmpassword.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.confirmpassword.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.confirmpassword.maxlength",1,"form-text","text-danger"]],template:function(e,t){1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",0),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"div",1),a["ɵɵtext"](5," "),a["ɵɵelementStart"](6,"h1",2),a["ɵɵtext"](7,"Reset password"),a["ɵɵelementEnd"](),a["ɵɵtext"](8," "),a["ɵɵtemplate"](9,ye,5,0,"div",3),a["ɵɵtext"](10," "),a["ɵɵtemplate"](11,Ie,5,0,"div",4),a["ɵɵtext"](12," "),a["ɵɵtemplate"](13,Se,5,0,"div",5),a["ɵɵtext"](14," "),a["ɵɵtemplate"](15,Ee,10,0,"p",6),a["ɵɵtext"](16," "),a["ɵɵtemplate"](17,je,2,0,"div",7),a["ɵɵtext"](18," "),a["ɵɵtemplate"](19,Ye,4,1,"div",8),a["ɵɵtext"](20," "),a["ɵɵelementEnd"](),a["ɵɵtext"](21," "),a["ɵɵelementEnd"](),a["ɵɵtext"](22," "),a["ɵɵelementEnd"](),a["ɵɵtext"](23," ")),2&e&&(a["ɵɵadvance"](9),a["ɵɵproperty"]("ngIf",t.keyMissing),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",!t.success&&!t.keyMissing),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.error),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.success),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.doNotMatch),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",!t.keyMissing))},directives:[l.n,p.NgIf,i.v,i.l,i.f,i.c,i.k,i.e,o],pipes:[f.d],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](Oe,[{type:a.Component,args:[{selector:"dhpp-password-reset-finish",templateUrl:"./password-reset-finish.component.html"}]}],(function(){return[{type:be},{type:m.a},{type:n.a},{type:a.ElementRef},{type:a.Renderer2},{type:i.d}]}),null);var Le=r(71),De=r(103),Ve=r(81);const Ue=function(e){return{username:e}};function Ke(e,t){if(1&e&&(a["ɵɵelementStart"](0,"h2",5),a["ɵɵtext"](1,"User settings for ["),a["ɵɵelementStart"](2,"b"),a["ɵɵtext"](3),a["ɵɵelementEnd"](),a["ɵɵtext"](4,"]"),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"]();a["ɵɵproperty"]("translateValues",a["ɵɵpureFunction1"](2,Ue,e.settingsForm.get("login").value)),a["ɵɵadvance"](3),a["ɵɵtextInterpolate"](e.settingsForm.get("login").value)}}function Be(e,t){1&e&&(a["ɵɵelementStart"](0,"div",6),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"strong"),a["ɵɵtext"](3,"Settings saved!"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementEnd"]())}function Ge(e,t){1&e&&(a["ɵɵelementStart"](0,"small",21),a["ɵɵtext"](1," Your first name is required. "),a["ɵɵelementEnd"]())}function Ae(e,t){1&e&&(a["ɵɵelementStart"](0,"small",22),a["ɵɵtext"](1," Your first name is required to be at least 1 character. "),a["ɵɵelementEnd"]())}function _e(e,t){1&e&&(a["ɵɵelementStart"](0,"small",23),a["ɵɵtext"](1," Your first name cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function $e(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,Ge,2,0,"small",18),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,Ae,2,0,"small",19),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,_e,2,0,"small",20),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("firstName").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("firstName").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("firstName").errors.maxlength)}}function Je(e,t){1&e&&(a["ɵɵelementStart"](0,"small",27),a["ɵɵtext"](1," Your last name is required. "),a["ɵɵelementEnd"]())}function ze(e,t){1&e&&(a["ɵɵelementStart"](0,"small",28),a["ɵɵtext"](1," Your last name is required to be at least 1 character. "),a["ɵɵelementEnd"]())}function He(e,t){1&e&&(a["ɵɵelementStart"](0,"small",29),a["ɵɵtext"](1," Your last name cannot be longer than 50 characters. "),a["ɵɵelementEnd"]())}function Ze(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,Je,2,0,"small",24),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,ze,2,0,"small",25),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,He,2,0,"small",26),a["ɵɵtext"](7," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("lastName").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("lastName").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("lastName").errors.maxlength)}}function Qe(e,t){1&e&&(a["ɵɵelementStart"](0,"small",34),a["ɵɵtext"](1," Your email is required. "),a["ɵɵelementEnd"]())}function We(e,t){1&e&&(a["ɵɵelementStart"](0,"small",35),a["ɵɵtext"](1," Your email is invalid. "),a["ɵɵelementEnd"]())}function Xe(e,t){1&e&&(a["ɵɵelementStart"](0,"small",36),a["ɵɵtext"](1," Your email is required to be at least 5 characters. "),a["ɵɵelementEnd"]())}function et(e,t){1&e&&(a["ɵɵelementStart"](0,"small",37),a["ɵɵtext"](1," Your email cannot be longer than 100 characters. "),a["ɵɵelementEnd"]())}function tt(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵtemplate"](2,Qe,2,0,"small",30),a["ɵɵtext"](3," "),a["ɵɵtemplate"](4,We,2,0,"small",31),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,Xe,2,0,"small",32),a["ɵɵtext"](7," "),a["ɵɵtemplate"](8,et,2,0,"small",33),a["ɵɵtext"](9," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("email").errors.required),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("email").errors.email),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("email").errors.minlength),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",e.settingsForm.get("email").errors.maxlength)}}function rt(e,t){if(1&e&&(a["ɵɵelementStart"](0,"option",41),a["ɵɵtext"](1),a["ɵɵpipe"](2,"findLanguageFromKey"),a["ɵɵelementEnd"]()),2&e){const e=t.$implicit;a["ɵɵproperty"]("value",e),a["ɵɵadvance"](1),a["ɵɵtextInterpolate"](a["ɵɵpipeBind1"](2,2,e))}}function at(e,t){if(1&e&&(a["ɵɵelementStart"](0,"div",8),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"label",38),a["ɵɵtext"](3,"Language"),a["ɵɵelementEnd"](),a["ɵɵtext"](4," "),a["ɵɵelementStart"](5,"select",39),a["ɵɵtext"](6," "),a["ɵɵtemplate"](7,rt,3,4,"option",40),a["ɵɵtext"](8," "),a["ɵɵelementEnd"](),a["ɵɵtext"](9," "),a["ɵɵelementEnd"]()),2&e){const e=a["ɵɵnextContext"](2);a["ɵɵadvance"](7),a["ɵɵproperty"]("ngForOf",e.languages)}}function nt(e,t){if(1&e){const e=a["ɵɵgetCurrentView"]();a["ɵɵelementStart"](0,"form",7),a["ɵɵlistener"]("ngSubmit",(function(){return a["ɵɵrestoreView"](e),a["ɵɵnextContext"]().save()})),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",8),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"label",9),a["ɵɵtext"](5,"First Name"),a["ɵɵelementEnd"](),a["ɵɵtext"](6," "),a["ɵɵelement"](7,"input",10),a["ɵɵpipe"](8,"translate"),a["ɵɵtext"](9," "),a["ɵɵtemplate"](10,$e,8,3,"div",11),a["ɵɵtext"](11," "),a["ɵɵelementEnd"](),a["ɵɵtext"](12," "),a["ɵɵelementStart"](13,"div",8),a["ɵɵtext"](14," "),a["ɵɵelementStart"](15,"label",12),a["ɵɵtext"](16,"Last Name"),a["ɵɵelementEnd"](),a["ɵɵtext"](17," "),a["ɵɵelement"](18,"input",13),a["ɵɵpipe"](19,"translate"),a["ɵɵtext"](20," "),a["ɵɵtemplate"](21,Ze,8,3,"div",11),a["ɵɵtext"](22," "),a["ɵɵelementEnd"](),a["ɵɵtext"](23," "),a["ɵɵelementStart"](24,"div",8),a["ɵɵtext"](25," "),a["ɵɵelementStart"](26,"label",14),a["ɵɵtext"](27,"Email"),a["ɵɵelementEnd"](),a["ɵɵtext"](28," "),a["ɵɵelement"](29,"input",15),a["ɵɵpipe"](30,"translate"),a["ɵɵtext"](31," "),a["ɵɵtemplate"](32,tt,10,4,"div",11),a["ɵɵtext"](33," "),a["ɵɵelementEnd"](),a["ɵɵtext"](34," "),a["ɵɵtemplate"](35,at,10,1,"div",16),a["ɵɵtext"](36," "),a["ɵɵelementStart"](37,"button",17),a["ɵɵtext"](38,"Save"),a["ɵɵelementEnd"](),a["ɵɵtext"](39," "),a["ɵɵelementEnd"]()}if(2&e){const e=a["ɵɵnextContext"]();a["ɵɵproperty"]("formGroup",e.settingsForm),a["ɵɵadvance"](7),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](8,9,"settings.form.firstname.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.settingsForm.get("firstName").invalid&&(e.settingsForm.get("firstName").dirty||e.settingsForm.get("firstName").touched)),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](19,11,"settings.form.lastname.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.settingsForm.get("lastName").invalid&&(e.settingsForm.get("lastName").dirty||e.settingsForm.get("lastName").touched)),a["ɵɵadvance"](8),a["ɵɵpropertyInterpolate"]("placeholder",a["ɵɵpipeBind1"](30,13,"global.form.email.placeholder")),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.settingsForm.get("email").invalid&&(e.settingsForm.get("email").dirty||e.settingsForm.get("email").touched)),a["ɵɵadvance"](3),a["ɵɵproperty"]("ngIf",e.languages&&e.languages.length>0),a["ɵɵadvance"](2),a["ɵɵproperty"]("disabled",e.settingsForm.invalid)}}class st{constructor(e,t,r,a){this.accountService=e,this.fb=t,this.languageService=r,this.languageHelper=a,this.settingsForm=this.fb.group({firstName:[void 0,[i.t.required,i.t.minLength(1),i.t.maxLength(50)]],lastName:[void 0,[i.t.required,i.t.minLength(1),i.t.maxLength(50)]],email:[void 0,[i.t.required,i.t.minLength(5),i.t.maxLength(254),i.t.email]],activated:[!1],authorities:[[]],langKey:["en"],login:[],imageUrl:[]})}ngOnInit(){this.accountService.identity().subscribe(e=>{this.updateForm(e)}),this.languages=this.languageHelper.getAll()}save(){const e=this.accountFromForm();this.accountService.save(e).subscribe(()=>{this.error=null,this.success="OK",this.accountService.identity(!0).subscribe(e=>{this.updateForm(e)}),this.languageService.getCurrent().then(t=>{e.langKey!==t&&this.languageService.changeLanguage(e.langKey)})},()=>{this.success=null,this.error="ERROR"})}accountFromForm(){return Object.assign(Object.assign({},{}),{firstName:this.settingsForm.get("firstName").value,lastName:this.settingsForm.get("lastName").value,email:this.settingsForm.get("email").value,activated:this.settingsForm.get("activated").value,authorities:this.settingsForm.get("authorities").value,langKey:this.settingsForm.get("langKey").value,login:this.settingsForm.get("login").value,imageUrl:this.settingsForm.get("imageUrl").value})}updateForm(e){this.settingsForm.patchValue({firstName:e.firstName,lastName:e.lastName,email:e.email,activated:e.activated,authorities:e.authorities,langKey:e.langKey,login:e.login,imageUrl:e.imageUrl})}}st.ɵfac=function(e){return new(e||st)(a["ɵɵdirectiveInject"](_.a),a["ɵɵdirectiveInject"](i.d),a["ɵɵdirectiveInject"](l.g),a["ɵɵdirectiveInject"](Le.a))},st.ɵcmp=a["ɵɵdefineComponent"]({type:st,selectors:[["dhpp-settings"]],decls:17,vars:3,consts:[[1,"row","justify-content-center"],[1,"col-md-8"],["jhiTranslate","settings.title",3,"translateValues",4,"ngIf"],["class","alert alert-success","jhiTranslate","settings.messages.success",4,"ngIf"],["name","form","role","form","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["jhiTranslate","settings.title",3,"translateValues"],["jhiTranslate","settings.messages.success",1,"alert","alert-success"],["name","form","role","form","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName","jhiTranslate","settings.form.firstname",1,"form-control-label"],["type","text","id","firstName","name","firstName","formControlName","firstName",1,"form-control",3,"placeholder"],[4,"ngIf"],["for","lastName","jhiTranslate","settings.form.lastname",1,"form-control-label"],["type","text","id","lastName","name","lastName","formControlName","lastName",1,"form-control",3,"placeholder"],["for","email","jhiTranslate","global.form.email.label",1,"form-control-label"],["type","email","id","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],["class","form-group",4,"ngIf"],["type","submit","jhiTranslate","settings.form.button",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger","jhiTranslate","settings.messages.validate.firstname.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","settings.messages.validate.firstname.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","settings.messages.validate.firstname.maxlength",4,"ngIf"],["jhiTranslate","settings.messages.validate.firstname.required",1,"form-text","text-danger"],["jhiTranslate","settings.messages.validate.firstname.minlength",1,"form-text","text-danger"],["jhiTranslate","settings.messages.validate.firstname.maxlength",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","settings.messages.validate.lastname.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","settings.messages.validate.lastname.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","settings.messages.validate.lastname.maxlength",4,"ngIf"],["jhiTranslate","settings.messages.validate.lastname.required",1,"form-text","text-danger"],["jhiTranslate","settings.messages.validate.lastname.minlength",1,"form-text","text-danger"],["jhiTranslate","settings.messages.validate.lastname.maxlength",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.invalid",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.minlength",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.maxlength",4,"ngIf"],["jhiTranslate","global.messages.validate.email.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.invalid",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.minlength",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.maxlength",1,"form-text","text-danger"],["for","langKey","jhiTranslate","settings.form.language"],["id","langKey","name","langKey","formControlName","langKey",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a["ɵɵelementStart"](0,"div"),a["ɵɵtext"](1," "),a["ɵɵelementStart"](2,"div",0),a["ɵɵtext"](3," "),a["ɵɵelementStart"](4,"div",1),a["ɵɵtext"](5," "),a["ɵɵtemplate"](6,Ke,5,4,"h2",2),a["ɵɵtext"](7," "),a["ɵɵtemplate"](8,Be,5,0,"div",3),a["ɵɵtext"](9," "),a["ɵɵelement"](10,"dhpp-alert-error"),a["ɵɵtext"](11," "),a["ɵɵtemplate"](12,nt,40,15,"form",4),a["ɵɵtext"](13," "),a["ɵɵelementEnd"](),a["ɵɵtext"](14," "),a["ɵɵelementEnd"](),a["ɵɵtext"](15," "),a["ɵɵelementEnd"](),a["ɵɵtext"](16," ")),2&e&&(a["ɵɵadvance"](6),a["ɵɵproperty"]("ngIf",t.settingsForm.get("login").value),a["ɵɵadvance"](2),a["ɵɵproperty"]("ngIf",t.success),a["ɵɵadvance"](4),a["ɵɵproperty"]("ngIf",t.settingsForm.get("login").value))},directives:[p.NgIf,De.a,l.n,i.v,i.l,i.f,i.c,i.k,i.e,i.r,p.NgForOf,i.o,i.u],pipes:[f.d,Ve.a],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](st,[{type:a.Component,args:[{selector:"dhpp-settings",templateUrl:"./settings.component.html"}]}],(function(){return[{type:_.a},{type:i.d},{type:l.g},{type:Le.a}]}),null);const lt={path:"activate",component:A,data:{authorities:[],pageTitle:"activate.title"}};var ot=r(152);const it=[{path:"",children:[lt,{path:"password",component:ie,data:{authorities:["ROLE_USER"],pageTitle:"global.menu.account.password"},canActivate:[ot.a]},{path:"reset/finish",component:Oe,data:{authorities:[],pageTitle:"global.menu.account.password"}},{path:"reset/request",component:we,data:{authorities:[],pageTitle:"global.menu.account.password"}},{path:"register",component:V,data:{authorities:[],pageTitle:"register.title"}},{path:"settings",component:st,data:{authorities:["ROLE_USER"],pageTitle:"global.menu.account.settings"},canActivate:[ot.a]}]}];r.d(t,"DhppbaseAccountModule",(function(){return mt}));class mt{}mt.ɵmod=a["ɵɵdefineNgModule"]({type:mt}),mt.ɵinj=a["ɵɵdefineInjector"]({factory:function(e){return new(e||mt)},imports:[[s.a,n.h.forChild(it)]]}),("undefined"==typeof ngJitMode||ngJitMode)&&a["ɵɵsetNgModuleScope"](mt,{declarations:[A,V,ie,o,we,Oe,st],imports:[s.a,n.h]}),("undefined"==typeof ngDevMode||ngDevMode)&&a["ɵsetClassMetadata"](mt,[{type:a.NgModule,args:[{imports:[s.a,n.h.forChild(it)],declarations:[A,V,ie,o,we,Oe,st]}]}],null,null)}}]);