(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{261:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(6),s=n(114),a=n(27),c=n(21);class d{constructor(t){this.http=t}getMetrics(){return this.http.get(a.b+"management/jhimetrics")}threadDump(){return this.http.get(a.b+"management/threaddump")}}d.ɵfac=function(t){return new(t||d)(i["ɵɵinject"](c.b))},d.ɵprov=i["ɵɵdefineInjectable"]({token:d,factory:d.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&i["ɵsetClassMetadata"](d,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:c.b}]}),null);var o=n(14),p=n(29),m=n(1);function l(t,e){if(1&t&&(i["ɵɵelementStart"](0,"div",12),i["ɵɵtext"](1," "),i["ɵɵelementStart"](2,"jhi-jvm-memory",13),i["ɵɵtext"](3," "),i["ɵɵelementEnd"](),i["ɵɵtext"](4," "),i["ɵɵelement"](5,"jhi-jvm-threads",14),i["ɵɵtext"](6," "),i["ɵɵelementStart"](7,"jhi-metrics-system",15),i["ɵɵtext"](8," "),i["ɵɵelementEnd"](),i["ɵɵtext"](9," "),i["ɵɵelementEnd"]()),2&t){const t=i["ɵɵnextContext"]();i["ɵɵadvance"](2),i["ɵɵproperty"]("updating",t.updatingMetrics)("jvmMemoryMetrics",t.metrics.jvm),i["ɵɵadvance"](3),i["ɵɵproperty"]("threadData",t.threadData),i["ɵɵadvance"](2),i["ɵɵproperty"]("updating",t.updatingMetrics)("systemMetrics",t.metrics.processMetrics)}}function u(t,e){if(1&t&&(i["ɵɵelementStart"](0,"div"),i["ɵɵtext"](1," "),i["ɵɵelementStart"](2,"h3",16),i["ɵɵtext"](3,"Garbage collector statistics"),i["ɵɵelementEnd"](),i["ɵɵtext"](4," "),i["ɵɵelement"](5,"jhi-metrics-garbagecollector",17),i["ɵɵtext"](6," "),i["ɵɵelementEnd"]()),2&t){const t=i["ɵɵnextContext"]();i["ɵɵadvance"](5),i["ɵɵproperty"]("updating",t.updatingMetrics)("garbageCollectorMetrics",t.metrics.garbageCollector)}}function g(t,e){1&t&&(i["ɵɵelementStart"](0,"div",18),i["ɵɵtext"](1,"Updating..."),i["ɵɵelementEnd"]())}function h(t,e){if(1&t&&(i["ɵɵelementStart"](0,"jhi-metrics-request",19),i["ɵɵtext"](1," "),i["ɵɵelementEnd"]()),2&t){const t=i["ɵɵnextContext"]();i["ɵɵproperty"]("updating",t.updatingMetrics)("requestMetrics",t.metrics["http.server.requests"])}}function f(t,e){if(1&t&&(i["ɵɵelementStart"](0,"jhi-metrics-endpoints-requests",20),i["ɵɵtext"](1," "),i["ɵɵelementEnd"]()),2&t){const t=i["ɵɵnextContext"]();i["ɵɵproperty"]("updating",t.updatingMetrics)("endpointsRequestsMetrics",t.metrics.services)}}function x(t,e){if(1&t&&(i["ɵɵelementStart"](0,"jhi-metrics-cache",21),i["ɵɵtext"](1," "),i["ɵɵelementEnd"]()),2&t){const t=i["ɵɵnextContext"]();i["ɵɵproperty"]("updating",t.updatingMetrics)("cacheMetrics",t.metrics.cache)}}function M(t,e){if(1&t&&(i["ɵɵelementStart"](0,"jhi-metrics-datasource",22),i["ɵɵtext"](1," "),i["ɵɵelementEnd"]()),2&t){const t=i["ɵɵnextContext"]();i["ɵɵproperty"]("updating",t.updatingMetrics)("datasourceMetrics",t.metrics.databases)}}class v{constructor(t){this.metricsService=t,this.metrics={},this.threadData={},this.updatingMetrics=!0,this.JCACHE_KEY="jcache.statistics"}ngOnInit(){this.refresh()}refresh(){this.updatingMetrics=!0,this.metricsService.getMetrics().subscribe(t=>{this.metrics=t,this.metricsService.threadDump().subscribe(t=>{this.threadData=t.threads,this.updatingMetrics=!1})})}isObjectExisting(t,e){return t&&t[e]}isObjectExistingAndNotEmpty(t,e){return this.isObjectExisting(t,e)&&"{}"!==JSON.stringify(t[e])}}v.ɵfac=function(t){return new(t||v)(i["ɵɵdirectiveInject"](d))},v.ɵcmp=i["ɵɵdefineComponent"]({type:v,selectors:[["dhpp-metrics"]],decls:34,vars:8,consts:[["id","metrics-page-heading","jhiTranslate","metrics.title"],[1,"btn","btn-primary","float-right",3,"click"],[3,"icon"],["jhiTranslate","metrics.refresh.button"],["jhiTranslate","metrics.jvm.title"],["class","row",4,"ngIf"],[4,"ngIf"],["class","well well-lg","jhiTranslate","metrics.updating",4,"ngIf"],[3,"updating","requestMetrics",4,"ngIf"],[3,"updating","endpointsRequestsMetrics",4,"ngIf"],[3,"updating","cacheMetrics",4,"ngIf"],[3,"updating","datasourceMetrics",4,"ngIf"],[1,"row"],[1,"col-md-4",3,"updating","jvmMemoryMetrics"],[1,"col-md-4",3,"threadData"],[1,"col-md-4",3,"updating","systemMetrics"],["jhiTranslate","metrics.jvm.gc.title"],[3,"updating","garbageCollectorMetrics"],["jhiTranslate","metrics.updating",1,"well","well-lg"],[3,"updating","requestMetrics"],[3,"updating","endpointsRequestsMetrics"],[3,"updating","cacheMetrics"],[3,"updating","datasourceMetrics"]],template:function(t,e){1&t&&(i["ɵɵelementStart"](0,"div"),i["ɵɵtext"](1," "),i["ɵɵelementStart"](2,"h2"),i["ɵɵtext"](3," "),i["ɵɵelementStart"](4,"span",0),i["ɵɵtext"](5,"Application Metrics"),i["ɵɵelementEnd"](),i["ɵɵtext"](6," "),i["ɵɵelementStart"](7,"button",1),i["ɵɵlistener"]("click",(function(){return e.refresh()})),i["ɵɵtext"](8," "),i["ɵɵelement"](9,"fa-icon",2),i["ɵɵtext"](10," "),i["ɵɵelementStart"](11,"span",3),i["ɵɵtext"](12,"Refresh"),i["ɵɵelementEnd"](),i["ɵɵtext"](13," "),i["ɵɵelementEnd"](),i["ɵɵtext"](14," "),i["ɵɵelementEnd"](),i["ɵɵtext"](15," "),i["ɵɵelementStart"](16,"h3",4),i["ɵɵtext"](17,"JVM Metrics"),i["ɵɵelementEnd"](),i["ɵɵtext"](18," "),i["ɵɵtemplate"](19,l,10,5,"div",5),i["ɵɵtext"](20," "),i["ɵɵtemplate"](21,u,7,2,"div",6),i["ɵɵtext"](22," "),i["ɵɵtemplate"](23,g,2,0,"div",7),i["ɵɵtext"](24," "),i["ɵɵtemplate"](25,h,2,2,"jhi-metrics-request",8),i["ɵɵtext"](26," "),i["ɵɵtemplate"](27,f,2,2,"jhi-metrics-endpoints-requests",9),i["ɵɵtext"](28," "),i["ɵɵtemplate"](29,x,2,2,"jhi-metrics-cache",10),i["ɵɵtext"](30," "),i["ɵɵtemplate"](31,M,2,2,"jhi-metrics-datasource",11),i["ɵɵtext"](32," "),i["ɵɵelementEnd"](),i["ɵɵtext"](33," ")),2&t&&(i["ɵɵadvance"](9),i["ɵɵproperty"]("icon","sync"),i["ɵɵadvance"](10),i["ɵɵproperty"]("ngIf",!e.updatingMetrics),i["ɵɵadvance"](2),i["ɵɵproperty"]("ngIf",e.isObjectExisting(e.metrics,"garbageCollector")),i["ɵɵadvance"](2),i["ɵɵproperty"]("ngIf",e.updatingMetrics),i["ɵɵadvance"](2),i["ɵɵproperty"]("ngIf",e.isObjectExisting(e.metrics,"http.server.requests")),i["ɵɵadvance"](2),i["ɵɵproperty"]("ngIf",e.isObjectExisting(e.metrics,"services")),i["ɵɵadvance"](2),i["ɵɵproperty"]("ngIf",e.isObjectExisting(e.metrics,"cache")),i["ɵɵadvance"](2),i["ɵɵproperty"]("ngIf",e.isObjectExistingAndNotEmpty(e.metrics,"databases")))},directives:[o.n,p.a,m.NgIf,o.r,o.s,o.x,o.y,o.t,o.u,o.v,o.w],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&i["ɵsetClassMetadata"](v,[{type:i.Component,args:[{selector:"dhpp-metrics",templateUrl:"./metrics.component.html"}]}],(function(){return[{type:d}]}),null);const j={path:"",component:v,data:{pageTitle:"metrics.title"}};n.d(e,"MetricsModule",(function(){return y}));class y{}y.ɵmod=i["ɵɵdefineNgModule"]({type:y}),y.ɵinj=i["ɵɵdefineInjector"]({factory:function(t){return new(t||y)},imports:[[s.a,r.h.forChild([j])]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["ɵɵsetNgModuleScope"](y,{declarations:[v],imports:[s.a,r.h]}),("undefined"==typeof ngDevMode||ngDevMode)&&i["ɵsetClassMetadata"](y,[{type:i.NgModule,args:[{imports:[s.a,r.h.forChild([j])],declarations:[v]}]}],null,null)}}]);